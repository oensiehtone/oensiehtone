# Cloud Penetration Testing: MitC Attack Simulation

This project recreates a cloud-style environment within a fully controlled local lab to evaluate real-world security weaknesses and defensive mitigations. It simulates a full **Man-in-the-Cloud (MitC)** attack using a custom Proxmox environment with Zentyal IAM and Nextcloud cloud storage. All testing was completed independently as part of my TM470 Computing and IT project.

---

## What This Project Demonstrates

- Identity-based attack modelling (MitC)
- Token theft and cloud API abuse
- SMB exploitation and credential compromise
- IDS detection validation
- Structured mitigation and re-testing

---

## Ethical & Legal Compliance

All testing was conducted ethically within a controlled virtual environment containing only fictitious data.

This work adhered to the following frameworks and legislation:

- **Computer Misuse Act 1990** — All actions authorised and contained within scope.  
- **Data Protection Act 2018 / UK GDPR** — No real personal data used; confidentiality and data minimisation upheld.  
- **BCS Code of Conduct** — Integrity, competence, and responsible practice maintained throughout.  
- **ISO/IEC 27001 (Relevant Annex A Controls)** — Guidance used for access control, cloud service use, and vulnerability handling.  
- **Equality Act 2010** — Clear, inclusive and accessible language used.

This project is for educational purposes only and all results are confined to authorised users.

---

## Overview

This project demonstrates practical capability across:

- Cloud security  
- IAM configuration  
- Offensive penetration testing  
- Defensive mitigation  
- Virtualisation  
- IDS/IPS evaluation  
- Incident analysis  

---

## Section Breakdown

### **1. Architecture**
A virtualised cloud environment was created using:
- Proxmox (hypervisor)  
- Zentyal Server (IAM)  
- Nextcloud Server (token-based storage)  
- Windows 10 Client (Nextcloud sync)  
- Kali Linux Attacker  
This configuration enabled control over identity, sync behaviour, token handling, and attack flow.

---

### **2. Setup and Configuration**
Covers the deployment of:
- VirtualBox
- Proxmox  
- Early VirtualBox prototypes  
- Zentyal IAM services  
- Nextcloud sync and server configuration  
- Windows client setup  
- Kali Linux attacker preparation  

---

### **3. Vulnerabilities and Attack Surface**
Intentionally introduced weaknesses:
- Weak IAM configuration  
- Exposed SMB shares  
- Token-based authentication weaknesses  
- Insecure token storage  
- Misconfigured sync process  

---

### **4. Penetration Testing**
Activities included:
- Service enumeration  
- SMB exploitation  
- Nextcloud token acquisition  
- Privilege escalation attempts  
- MitC-style data exfiltration  

---

### **5. IDS/IPS Testing**
Detection capability tested using:
- Snort  
- Suricata  
- Kali Purple IDS components  

---

### **6. Risk Assessment and Mitigation**
Mitigations included:
- IAM hardening  
- Stronger access controls  
- Server configuration improvements  
- Token-handling mitigations  

---

### **7. Reflection and Learning**
Includes:
- What worked well  
- Challenges encountered  
- Lessons learned  
- Skills developed  
